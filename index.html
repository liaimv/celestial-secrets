<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Celestial Secrets - A-Frame VR</title>
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <link rel="stylesheet" href="/src/style.css">
</head>
<body>
  <a-scene>
    <!-- Room Environment -->
    <!-- Floor -->
    <a-plane position="0 0 -13.455" rotation="-90 0 0" width="20" height="20" color="#8B7355" material="roughness: 0.8; metalness: 0.1" scale="0.654 0.654 0.654"></a-plane>
    
    <!-- Ceiling -->
    <a-plane position="0 5 -13.455" rotation="90 0 0" width="20" height="20" color="#D3D3D3" material="roughness: 0.9" scale="0.654 0.654 0.654"></a-plane>
    
    <!-- Back Wall (where table will be) -->
    <a-plane position="0 2.5 -19.991" rotation="0 0 0" width="13.08" height="5" color="#808080" material="roughness: 0.7; side: double"></a-plane>
    
    <!-- Front Wall -->
    <a-plane position="0 2.5 -6.915" rotation="0 180 0" width="13.08" height="5" color="#808080" material="roughness: 0.7; side: double"></a-plane>
    
    <!-- Left Wall -->
    <a-plane position="-6.54 2.5 -13.455" rotation="0 90 0" width="13.08" height="5" color="#808080" material="roughness: 0.7; side: double"></a-plane>
    
    <!-- Star Background Image on Left Wall (between middle and top) -->
    <a-image id="star-background-image" position="-6.53 3.2 -13.455" rotation="0 90 0" width="4" height="2.25" scale="2.5 2.5 2.5" src="data/star_constellations/star_background.jpg" material="side: double"></a-image>
    
    <!-- Right Wall -->
    <a-plane position="6.54 2.5 -13.455" rotation="0 -90 0" width="13.08" height="5" color="#808080" material="roughness: 0.7; side: double"></a-plane>
    
    <!-- Big Dipper Constellation Blackboard on Right Wall -->
    <a-entity id="centaurus-board" position="6.53 2.5 -13.455" rotation="0 -90 0">
      <!-- Blackboard -->
      <a-plane position="0 0 0" width="4.5" height="3.5" color="#000000" material="roughness: 0.8; side: double"></a-plane>
      
      <!-- Big Dipper Constellation Stars -->
      <!-- Bowl of the Dipper (4 stars) -->
      <!-- Dubhe (Alpha Ursae Majoris) - top right of bowl, brightest -->
      <a-sphere class="constellation-star" data-star="dubhe" position="0.8 0.8 0.01" radius="0.04" color="#FFFFFF" emissive="#FFFFFF" emissive-intensity="1.0"></a-sphere>
      
      <!-- Merak (Beta Ursae Majoris) - bottom right of bowl -->
      <a-sphere class="constellation-star" data-star="merak" position="0.6 0.2 0.01" radius="0.035" color="#FFFFFF" emissive="#FFFFFF" emissive-intensity="0.9"></a-sphere>
      
      <!-- Phecda (Gamma Ursae Majoris) - bottom left of bowl -->
      <a-sphere class="constellation-star" data-star="phecda" position="-0.2 0.1 0.01" radius="0.035" color="#FFFFFF" emissive="#FFFFFF" emissive-intensity="0.9"></a-sphere>
      
      <!-- Megrez (Delta Ursae Majoris) - top left of bowl -->
      <a-sphere class="constellation-star" data-star="megrez" position="0.0 0.7 0.01" radius="0.03" color="#FFFFFF" emissive="#FFFFFF" emissive-intensity="0.8"></a-sphere>
      
      <!-- Handle of the Dipper (3 stars) -->
      <!-- Alioth (Epsilon Ursae Majoris) - first in handle -->
      <a-sphere class="constellation-star" data-star="alioth" position="-0.4 0.5 0.01" radius="0.035" color="#FFFFFF" emissive="#FFFFFF" emissive-intensity="0.9"></a-sphere>
      
      <!-- Mizar (Zeta Ursae Majoris) - middle of handle -->
      <a-sphere class="constellation-star" data-star="mizar" position="-0.8 0.3 0.01" radius="0.03" color="#FFFFFF" emissive="#FFFFFF" emissive-intensity="0.8"></a-sphere>
      
      <!-- Alkaid (Eta Ursae Majoris) - end of handle -->
      <a-sphere class="constellation-star" data-star="alkaid" position="-1.2 0.1 0.01" radius="0.035" color="#FFFFFF" emissive="#FFFFFF" emissive-intensity="0.9"></a-sphere>
      
      <!-- Container for dynamically created connection lines -->
      <a-entity id="constellation-lines"></a-entity>
    </a-entity>
    
    <!-- Sky (for outside view) -->
    <a-sky color="#87CEEB"></a-sky>
    
    <!-- Camera (inside room, looking at table) -->
    <a-camera position="0 1.6 -13.455" rotation="0 0 0">
      <!-- Proximity UI as A-Frame entity (bottom right of screen) -->
      <a-entity id="proximity-ui-entity" class="proximity-ui-entity" visible="false">
        <!-- E text in white -->
        <a-text 
          position="0.22 -0.28 -0.48" 
          value="E" 
          align="center" 
          color="#ffffff" 
          width="0.3"
          font="roboto">
        </a-text>
        <!-- Solve Puzzle text in white -->
        <a-text 
          position="0.245 -0.28 -0.48" 
          value="Solve Puzzle" 
          align="left" 
          color="#ffffff" 
          width="0.4"
          font="roboto">
        </a-text>
      </a-entity>
      <!-- ESC UI as A-Frame entity (top left of screen) -->
      <a-entity id="esc-ui-entity" class="esc-ui-entity" visible="false">
        <!-- Q Go Back text in white -->
        <a-text 
          position="-0.48 0.38 -0.48" 
          value="Q Go Back" 
          align="left" 
          color="#ffffff" 
          width="0.4"
          font="roboto">
        </a-text>
      </a-entity>
      <!-- Completion Message UI as A-Frame entity (center of screen) -->
      <a-entity id="completion-message-entity" class="completion-message-entity" visible="false">
        <a-text 
          id="completion-text"
          position="0 0 -0.5" 
          value="" 
          align="center" 
          color="#ffffff" 
          width="2"
          font="roboto"
          anchor="center">
        </a-text>
      </a-entity>
    </a-camera>
    
    <!-- Lighting -->
    <a-light type="ambient" color="#ffffff" intensity="0.4"></a-light>
    <a-light type="directional" position="0 4 -10" color="#ffffff" intensity="0.6" target="#table"></a-light>
    <a-light type="point" position="0 3 -18" color="#ffffaa" intensity="0.8"></a-light>
    
    <!-- Table inside room (moved forward from wall) -->
    <a-entity id="table" position="0.1 0.75 -15">
      <!-- Table Top (wider table) -->
      <a-box position="0 0.25 -3.5" width="16" height="0.1" depth="6" color="#8B4513" material="roughness: 0.6; metalness: 0.2" scale="0.27 1 0.5"></a-box>
      <!-- Table Legs (at four corners) -->
      <!-- Front Left (leg edge matches table corner) -->
      <a-box position="-2.06 -0.3 -4.9" width="0.2" height="1" depth="0.2" color="#8B4513" material="roughness: 0.6; metalness: 0.2"></a-box>
      <!-- Front Right (leg edge matches table corner) -->
      <a-box position="2.06 -0.3 -4.9" width="0.2" height="1" depth="0.2" color="#8B4513" material="roughness: 0.6; metalness: 0.2"></a-box>
      <!-- Back Left (leg edge matches table corner) -->
      <a-box position="-2.06 -0.3 -2.1" width="0.2" height="1" depth="0.2" color="#8B4513" material="roughness: 0.6; metalness: 0.2"></a-box>
      <!-- Back Right (leg edge matches table corner) -->
      <a-box position="2.06 -0.3 -2.1" width="0.2" height="1" depth="0.2" color="#8B4513" material="roughness: 0.6; metalness: 0.2"></a-box>
      
      <!-- Solar System on Table (centered, smaller rings) -->
      <a-entity position="0.5 0.5 -3.5" id="solar-system">
        <!-- Sun (centered on table) -->
        <a-sphere position="0 0 0" radius="0.12" color="#FFD700" emissive="#FFD700" emissive-intensity="0.8">
          <a-animation attribute="rotation" to="0 360 0" dur="10000" repeat="indefinite"></a-animation>
        </a-sphere>
        
        <!-- Mercury -->
        <a-sphere data-planet="mercury" data-radius="0.25" data-ring-index="0" class="draggable" position="-2 0 -1" radius="0.025" color="#8C7853">
          <a-animation attribute="rotation" to="0 360 0" dur="10000" repeat="indefinite"></a-animation>
        </a-sphere>
        <a-ring data-ring="0" data-ring-radius="0.25" position="0 0 0" rotation="-90 0 0" radius-inner="0.24" radius-outer="0.26" color="#ffffff" opacity="0.8"></a-ring>
        
        <!-- Venus -->
        <a-sphere data-planet="venus" data-radius="0.35" data-ring-index="1" class="draggable" position="-2 0 -0.714" radius="0.03" color="#FFC649">
          <a-animation attribute="rotation" to="0 360 0" dur="8000" repeat="indefinite"></a-animation>
        </a-sphere>
        <a-ring data-ring="1" data-ring-radius="0.35" position="0 0 0" rotation="-90 0 0" radius-inner="0.34" radius-outer="0.36" color="#ffffff" opacity="0.8"></a-ring>
        
        <!-- Earth -->
        <a-sphere data-planet="earth" data-radius="0.45" data-ring-index="2" class="draggable" position="-2 0 -0.428" radius="0.035" color="#4A90E2">
          <a-animation attribute="rotation" to="0 360 0" dur="5000" repeat="indefinite"></a-animation>
        </a-sphere>
        <a-ring data-ring="2" data-ring-radius="0.45" position="0 0 0" rotation="-90 0 0" radius-inner="0.44" radius-outer="0.46" color="#ffffff" opacity="0.8"></a-ring>
        
        <!-- Mars -->
        <a-sphere data-planet="mars" data-radius="0.55" data-ring-index="3" class="draggable" position="-2 0 -0.142" radius="0.03" color="#CD5C5C">
          <a-animation attribute="rotation" to="0 360 0" dur="6000" repeat="indefinite"></a-animation>
        </a-sphere>
        <a-ring data-ring="3" data-ring-radius="0.55" position="0 0 0" rotation="-90 0 0" radius-inner="0.54" radius-outer="0.56" color="#ffffff" opacity="0.8"></a-ring>
        
        <!-- Jupiter -->
        <a-sphere data-planet="jupiter" data-radius="0.7" data-ring-index="4" class="draggable" position="-2 0 0.144" radius="0.06" color="#D8CA9D">
          <a-animation attribute="rotation" to="0 360 0" dur="3000" repeat="indefinite"></a-animation>
        </a-sphere>
        <a-ring data-ring="4" data-ring-radius="0.7" position="0 0 0" rotation="-90 0 0" radius-inner="0.69" radius-outer="0.71" color="#ffffff" opacity="0.8"></a-ring>
        
        <!-- Saturn with Rings -->
        <a-entity data-planet="saturn" data-radius="0.85" data-ring-index="5" class="draggable" position="-2 0 0.43">
          <a-sphere position="0 0 0" radius="0.06" color="#FAD5A5">
            <a-animation attribute="rotation" to="0 360 0" dur="4000" repeat="indefinite"></a-animation>
          </a-sphere>
          <!-- Saturn's Rings -->
          <a-torus position="0 0 0" rotation="-90 0 0" radius="0.1" radius-tubular="0.002" color="#C9B99B" arc="360"></a-torus>
          <a-torus position="0 0 0" rotation="-90 0 0" radius="0.12" radius-tubular="0.002" color="#B8A082" arc="360"></a-torus>
          <a-torus position="0 0 0" rotation="-90 0 0" radius="0.14" radius-tubular="0.002" color="#A6916F" arc="360"></a-torus>
        </a-entity>
        <a-ring data-ring="5" data-ring-radius="0.85" position="0 0 0" rotation="-90 0 0" radius-inner="0.84" radius-outer="0.86" color="#ffffff" opacity="0.8"></a-ring>
        
        <!-- Uranus -->
        <a-sphere data-planet="uranus" data-radius="1" data-ring-index="6" class="draggable" position="-2 0 0.714" radius="0.04" color="#4FD0E7">
          <a-animation attribute="rotation" to="0 360 0" dur="5000" repeat="indefinite"></a-animation>
        </a-sphere>
        <a-ring data-ring="6" data-ring-radius="1" position="0 0 0" rotation="-90 0 0" radius-inner="0.99" radius-outer="1.01" color="#ffffff" opacity="0.8"></a-ring>
        
        <!-- Neptune -->
        <a-sphere data-planet="neptune" data-radius="1.15" data-ring-index="7" class="draggable" position="-2 0 1" radius="0.035" color="#4166F5">
          <a-animation attribute="rotation" to="0 360 0" dur="5500" repeat="indefinite"></a-animation>
        </a-sphere>
        <a-ring data-ring="7" data-ring-radius="1.15" position="0 0 0" rotation="-90 0 0" radius-inner="1.14" radius-outer="1.16" color="#ffffff" opacity="0.8"></a-ring>
      </a-entity>
    </a-entity>
    
    <!-- Table on other side of solar system wall (same size) - along front wall -->
    <a-entity id="table-2" position="0.1 0.75 -4.915">
      <!-- Table Top (wider table) -->
      <a-box position="0 0.25 -3.5" width="16" height="0.1" depth="6" color="#8B4513" material="roughness: 0.6; metalness: 0.2" scale="0.27 1 0.5"></a-box>
      <!-- Table Legs (at four corners) -->
      <!-- Front Left (leg edge matches table corner) -->
      <a-box position="-2.06 -0.3 -4.9" width="0.2" height="1" depth="0.2" color="#8B4513" material="roughness: 0.6; metalness: 0.2"></a-box>
      <!-- Front Right (leg edge matches table corner) -->
      <a-box position="2.06 -0.3 -4.9" width="0.2" height="1" depth="0.2" color="#8B4513" material="roughness: 0.6; metalness: 0.2"></a-box>
      <!-- Back Left (leg edge matches table corner) -->
      <a-box position="-2.06 -0.3 -2.1" width="0.2" height="1" depth="0.2" color="#8B4513" material="roughness: 0.6; metalness: 0.2"></a-box>
      <!-- Back Right (leg edge matches table corner) -->
      <a-box position="2.06 -0.3 -2.1" width="0.2" height="1" depth="0.2" color="#8B4513" material="roughness: 0.6; metalness: 0.2"></a-box>
      
      <!-- Four Zodiac Images - horizontally in the middle towards the back -->
      <a-plane position="-1.5 0.31 -3.500" width="0.4" height="0.306" rotation="-90 180 0" scale="2 2 2" src="data/zodiac/Pisces.jpg" material="side: double"></a-plane>
      <a-plane position="-0.5 0.31 -3.500" width="0.4" height="0.306" rotation="-90 180 0" scale="2 2 2" src="data/zodiac/Sagittarius.jpg" material="side: double"></a-plane>
      <a-plane position="0.5 0.31 -3.500" width="0.4" height="0.306" rotation="-90 180 0" scale="2 2 2" src="data/zodiac/Cancer.jpg" material="side: double"></a-plane>
      <a-plane position="1.5 0.31 -3.500" width="0.4" height="0.306" rotation="-90 180 0" scale="2 2 2" src="data/zodiac/Libra.jpg" material="side: double"></a-plane>
      
      <!-- Four Spheres in front of the images -->
      <!-- Blue sphere for Pisces -->
      <a-sphere data-sphere="sphere-1" data-zodiac="pisces" class="draggable-sphere" position="-0.6 0.4 -4.3" radius="0.1" color="#0000FF"></a-sphere>
      <!-- Red sphere for Cancer -->
      <a-sphere data-sphere="sphere-2" data-zodiac="cancer" class="draggable-sphere" position="-0.2 0.4 -4.3" radius="0.1" color="#FF0000"></a-sphere>
      <!-- Yellow sphere for Libra -->
      <a-sphere data-sphere="sphere-3" data-zodiac="libra" class="draggable-sphere" position="0.2 0.4 -4.3" radius="0.1" color="#FFFF00"></a-sphere>
      <!-- White sphere for Sagittarius -->
      <a-sphere data-sphere="sphere-4" data-zodiac="sagittarius" class="draggable-sphere" position="0.6 0.4 -4.3" radius="0.1" color="#FFFFFF"></a-sphere>
    </a-entity>
    
  </a-scene>
  
  <!-- Proximity UI -->
  <div id="proximity-ui" class="proximity-ui hidden">
    <div class="proximity-ui-content">
      <div class="proximity-key-indicator">
        <span class="key-letter">E</span>
      </div>
      <span class="proximity-text">Solve Puzzle</span>
    </div>
  </div>
  
  <!-- ESC UI -->
  <div id="esc-ui" class="esc-ui hidden">
    <span class="esc-text">Q Go Back</span>
  </div>
  
  <script type="module" src="/src/main.js"></script>
</body>
</html>

